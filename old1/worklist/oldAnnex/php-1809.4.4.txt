<?php
//从表单取出数据
//先判定数据元素是否存在
if(isset($_REQUEST['name'])){
	echo $_REQUEST['name'];
	//处理上传文件
	if($_FILES['testFile']['error']>0){
		exit("上传文件出错！");
	}else{
		echo "文件名：".$_FILES['testFile']['name']."<br/>";
		echo "类别：".$_FILES['testFile']['type']."<br/>";
		echo "大小：".$_FILES['testFile']['size']."<br/>";
		echo "临时文件名：".$_FILES['testFile']['tmp_name']."<br/>";
		move_uploaded_file($_FILES['testFile']['tmp_name'], "upload/".$_FILES['testFile']['name']);
	}
	exit();
}
//else{
	//重定向到index.php页
	//header("location:index.php");
//}
?>

<?php
include_once 'FileTest.php';
$fileName = "qq.txt";
$fileTest = new FileTest ( $fileName );
// 写数据测试
// $fileTest->testWrite("清明时节！");

?>
<!--  表单提交后的处理程序  提交方法：get post url del-->
<!-- get方法，表单内容放在url中，只能提交文本数据，数据长度有限 -->
<!-- post方法，表单数据放报文中，表面上看不见数据，可以提交任意类型内容，安全 -->
<!-- text文本，test测试 -->
<!-- http://localhost/test/go.php?name=qqqqq -->
<!-- 超文本传输协议:// ip|域名/项目名/文件名?表单元素名=元素值&表单元素名2=元素值2&表单元素名3=元素值3 -->
<form action="index.php" method="post" enctype="multipart/form-data">
	<label for="name">姓&nbsp;&nbsp;名：</label><input type='text' name='name'
		id="name" value="qqqqq" /><br /> <label for="testFile">文件名：</label><input
		type="file" name="testFile" id="testFile" /><br /> <input
		type="submit" value="测试get" />
</form>


<?php 
//FileTest.php


class FileTest {
	//私有变量
	private $fileName;
	function __construct($fileName) {
		$this->fileName = $fileName;
	}
	function testRead(){
		//读着打开文件
		$handle = fopen($this->fileName, "r") or exit("打开文件失败");
		
		//没有读取到末尾
		for($line =1 ;!feof($handle);$line++){
			//读取并显示
			//<   &lt;  > &gt; 
			echo $line.": ".htmlentities(fgets($handle))."<br/>";
		}
		//关闭文件
		fclose($handle);
	}
	
	//写文件测试,模式追加
	function testWrite($content){
		//读着打开文件
		$handle = fopen($this->fileName, "a") or exit("打开文件失败");
		//写入内容
		fwrite($handle, $content);
		//关闭文件
		fclose($handle);
	}
}
?>